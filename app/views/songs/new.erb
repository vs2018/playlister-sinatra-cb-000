<h1>Create a new Song</h1>
 
<form action="/songs" method="POST">
  <label>Name:</label>
 
  <br></br>
 
  <input type="text" name="song_name" id="song_name">
 
  <br></br>
 
  <label>Choose an existing Genre:</label>
 
  <br></br>
 
  <%@genres.all.each do |pet|%>
    <input type="checkbox" name="genres[]" id="<%=genre.id%>" value="<%=genre.id%>"><%=genre.name%></input>
  <%end%>
 
  <br></br>
  
  
   
    <label>Create a new Artist:</label>
    <br></br>
    <label>Artist Name</label>
      <input  type="text" name="artist_name"></input>

    <br></br>
    <input type="submit" value="Create">
  
  
  

# describe "Song Forms" do
#   let(:artist_name) { "Person with a Face" }
#   let(:genre_1_name) { "Hippity Hop" }
#   let(:genre_2_name) { "New Age Garbage" }
#   let(:song_name) { "That One with the Guitar" }
#   let!(:genre_1) { Genre.create(name: genre_1_name) }
#   let!(:genre_2) { Genre.create(name: genre_2_name) }

#   describe "/songs/new" do
#     before do
#       visit "/songs/new"
#     end

#

#     context "with an existing artist" do
#       before do
#         artist = Artist.create(name: artist_name)
#       end

#       it "does not create a new artist" do
#         expect {
#           fill_in "Name", with: song_name
#           check "Hippity Hop"
#           fill_in "Artist Name", with: artist_name
#           click_on "Create"
#         }.not_to change(Artist, :count)
#       end

#       it "creates a new song and associates it with an existing artist" do
#         fill_in "Name", with: song_name
#         check "Hippity Hop"
#         fill_in "Artist Name", with: artist_name
#         click_on "Create"

#         expect(page).to have_content(song_name)
#         expect(page).to have_content(artist_name)
#         expect(page).to have_content(genre_1_name)
#         expect(page).to have_content("Successfully created song.")
#       end

#       it "redirects to '/songs/:slug' after creation" do
#         fill_in "Name", with: song_name
#         check "New Age Garbage"
#         fill_in "Artist Name", with: artist_name
#         click_on "Create"
#         expect(page.current_path).to eq('/songs/that-one-with-the-guitar')
#       end
#     end
#   end

